generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Usuario {
  id    Int    @id @default(autoincrement())
  nome  String
  telefone String
  email String @unique
  senha String
  escolhas Escolha[]
}

model Roupa {
  id         Int       @id @default(autoincrement())
  nome       String    @db.VarChar(100)
  descricao  String    @db.VarChar(255)
  tipo       String    @db.VarChar(50)
  imagemUrl  String    @db.VarChar(255)
  ecolhidas Escolhido[]
}

model Escolha {
  id         Int       @id @default(autoincrement())
  data       DateTime @default(now())
  usuarioId Int
  usuario   Usuario   @relation(fields: [usuarioId], references: [id])
  escolhidos Escolhido[]
}

model Escolhido {
  id         Int       @id @default(autoincrement())
  escolhaId Int
  roupaId Int
  escolha Escolha   @relation(fields: [escolhaId], references: [id], onDelete: Cascade)
  roupa Roupa   @relation(fields: [roupaId], references: [id], onDelete: Cascade)
}